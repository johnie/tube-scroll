<!DOCTYPE html>
<html>
  <head>
    <title>Tube Scroll - Los Santos Transport (GTA V)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/main.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="js/app.js"></script>
  </head>
  <body>
    
    <div class="progress"></div>
    
    <div class="metro-title">LS TRANSPORT (GTA V)</div>
    
    <div class="percentage-indicator">0%</div>
    
    <div class="key">KEY</div>
    
    <div class="key-overlay">
      
      <div class="close-key">X</div>
      
      <p>CLICK OR TAP TO HIDE</p>
      
      <button id="underground-one-btn">UNDERGROUND 1</button>  
      <button id="underground-two-btn">UNDERGROUND 2</button>
      <button id="underground-three-btn">UNDERGROUND 3</button>  
      <button id="aboveground-one-btn">ABOVE GROUND 1</button>
      <button id="aboveground-two-btn">ABOVE GROUND 2</button>  
      
    </div>
    
    <div class="info">INFO</div>
    
    <div class="info-overlay">
      
      <div class="close-info">X</div>
      
      <p class="info-title-text">LOS SANTOS TRANSPORT - GTA V</p>
      <p>1 Line</p>
      <p>11 Stations</p>
      <p class="los-santos-note-text">Los Santos Transport is a fictional light rail transport system in the game Grand Theft Auto V. The system is said to be based on the Los Angeles County Metro Rail, with the underground sections resembling the Red Line.</p>
      
    </div>
    
    <a class="back" href="index.html">BACK</a>
    
    <svg width="2000px" height="1350px" viewBox="0 0 2000 1350" version="1.1">
      <g stroke="none" stroke-width="18" fill="none" fill-rule="evenodd">
        <path d="M852.183953,694.792363 L851.643855,712.707323 C851.444186,719.330305 848.560854,729.328463 845.198593,735.047612 L816.729321,783.473356 C813.36937,789.188575 810.645592,799.198133 810.645592,805.831477 L810.645592,858.27101 C810.645592,864.903841 808.699623,875.295199 806.304565,881.4668 L796.051891,907.885959 C795.453346,909.428293 794.96813,912.023762 794.96813,913.669547 L794.968132,923.78976 C794.968132,925.441613 794.478181,928.028763 793.871586,929.57395 L783.949085,954.849643 C783.343479,956.39231 781.850184,958.546287 780.619053,959.655876 L756.922503,981.013018 C755.688984,982.12476 754.218927,984.28605 753.643601,985.828169 L741.965227,1017.1312 C739.649833,1023.33744 740.600666,1032.93625 744.091875,1038.57542 L747.529768,1044.12848 C751.019678,1049.76555 751.968697,1059.3684 749.646473,1065.58505 L736.729495,1100.16409 C736.15033,1101.71453 734.651381,1103.82421 733.369233,1104.88635 L697.172877,1134.87162 C695.896221,1135.92921 693.602153,1137.25429 692.053457,1137.82959 L686.598761,1139.85586 C685.04804,1140.43192 683.010262,1141.98654 682.04301,1143.33414 L662.154411,1171.04334 C658.291253,1176.42557 653.479683,1185.89859 651.410821,1192.19172 L651.839332,1190.88826 C650.803287,1194.03974 650.298395,1199.25713 650.711811,1202.54313 L652.459403,1216.43366 C652.872735,1219.71898 651.392285,1224.3545 649.144109,1226.79672 L642.821101,1233.6655 C640.576782,1236.10354 636.070174,1237.95707 632.760624,1237.80571 L628.143663,1237.59457 C624.831734,1237.4431 620.094062,1235.5878 617.561852,1233.4507 L603.939179,1221.95361 C601.406936,1219.81648 599.182794,1215.40186 598.971255,1212.09069 L598.532144,1205.2174 C598.320679,1201.90739 599.916791,1197.20483 602.098866,1194.71199 L606.628396,1189.53738 C608.809708,1187.04541 613.264707,1184.9386 616.578598,1184.83169 L632.075488,1184.33174 C635.389521,1184.22483 640.040386,1182.3082 642.459409,1180.05462 L683.790932,1141.54996" id="underground-one" stroke="#D0011B"></path>
        <path d="M852.191122,694.813643 L852.62215,675.731014 C852.771748,669.107984 855.013272,658.792385 857.619759,652.71142 L889.768431,577.708189 C892.378936,571.617849 899.874455,566.680652 906.488979,566.680652 L1288.77539,566.680653 C1295.39939,566.680653 1300.75325,561.303625 1300.7336,554.67868 L1300.59635,508.415291" id="aboveground-one" stroke="#F6A623"></path>
        <path d="M1029.43076,450.131595 L1000.89093,524.59105 C998.5204,530.775672 996.587427,541.154291 996.573487,547.783342 L996.390838,634.640087 C996.376908,641.264214 1000.46208,650.106507 1005.51762,654.39186 L1165.47487,789.980136" id="aboveground-two" stroke="#F6A623"></path>
        <path d="M1165.47803,790.006163 L1270.72958,879.396342 C1275.7797,883.685408 1284.60864,884.609013 1290.43322,881.468089 L1314.96639,868.2385 C1320.79829,865.093629 1324.16794,857.350483 1322.48935,850.930872 L1322.59426,851.332083 C1320.91717,844.918215 1314.2047,839.367723 1307.58357,838.933534 L1295.6469,838.150771 C1289.03381,837.717109 1280.82989,841.920043 1277.31827,847.545752 L1277.83602,846.716291 C1274.32649,852.338658 1266.16643,857.625642 1259.59117,858.52769 L1259.55628,858.532476 C1252.98946,859.433365 1243.60464,856.649822 1238.58607,852.307804 L1225.38173,840.883532" id="underground-two" stroke="#D0011B"></path>
        <path d="M1029.42024,450.19732 L1032.68752,441.732897 C1033.88101,438.640979 1032.98599,434.186221 1030.70024,431.795261 L1011.58561,411.800795 C1009.29458,409.404308 1006.90805,404.829853 1006.25421,401.578758 L1002.87407,384.77176 C1001.56797,378.277463 995.444883,371.201958 989.211028,368.972917 L953.603298,356.240652 C952.048224,355.684604 949.449912,355.233284 947.795539,355.2326 L853.804777,355.193725 C852.152314,355.193041 849.608965,355.789433 848.121074,356.527277 L830.816813,365.108445 C829.330253,365.845628 826.781093,366.420675 825.127501,366.392922 L796.836466,365.918087 C795.180906,365.8903 792.569578,366.294149 790.989104,366.825079 L782.935152,369.53065 C781.361304,370.059354 778.73684,370.487954 777.093433,370.487954 L707.317087,370.487954 C700.690262,370.487954 692.508068,365.910868 689.044434,360.269289 L662.408694,316.884903 C658.943812,311.24129 650.762101,306.666238 644.144672,306.666238 L591.801269,306.666238 C588.489606,306.666238 584.388424,304.375393 582.648536,301.561645 L556.955559,260.010928 C555.212307,257.191739 554.285424,252.271371 554.887819,249.007376 L557.266559,236.118481 C558.470007,229.597759 564.824046,224.31167 571.451408,224.31167 L609.012838,224.311671 C612.326215,224.311671 617.343477,222.958953 620.194929,221.304378 L695.512988,177.60053 C696.949601,176.766924 699.460376,176.091153 701.113981,176.091153 L720.826088,176.091153 C722.482817,176.091153 724.988399,175.417502 726.418099,174.589038 L806.723209,128.054911 C812.458164,124.731696 821.802191,124.663935 827.580332,127.896099 L896.607541,166.508383 C898.052392,167.316601 900.574306,167.943648 902.217816,167.909403 L940.550241,167.110687 C942.203859,167.076231 944.700941,167.746753 946.11968,168.60354 L969.893182,182.960516 C975.567787,186.387449 980.167964,194.53785 980.167964,201.167096 L980.167964,238.002465 C980.167964,244.630749 984.80027,252.71715 990.528191,256.07196 L1055.50218,294.126847 C1058.35971,295.800488 1063.36633,297.157241 1066.67638,297.157241 L1091.26031,297.157241 C1094.57412,297.157241 1099.54799,298.570737 1102.36603,300.312068 L1140.93846,324.146837 C1143.75817,325.889201 1148.72329,327.301665 1152.04219,327.301664 L1174.15629,327.301662 C1175.8115,327.301662 1178.34622,326.674471 1179.80907,325.905358 L1187.93985,321.630499 C1189.40659,320.859341 1191.94486,320.234194 1193.60239,320.234194 L1270.48709,320.234191 C1273.80412,320.234191 1278.83521,318.931526 1281.74308,317.314192 L1282.60086,316.837103 C1288.39144,313.616427 1297.07968,314.613426 1301.98979,319.048786 L1306.81348,323.406076 C1311.73112,327.848231 1313.99899,336.549768 1311.88753,342.815972 L1306.91235,357.580855 C1306.91235,357.580855 1302.99045,413.594758 1301.65545,441.445037 C1300.55882,464.322474 1300.56799,508.424102 1300.56799,508.424102" id="underground-three" stroke="#D0011B"></path>  
      </g>
    </svg>
      
    
    <script>
      
      $(document).ready(function () {
      
        //LOS SANTOS TRANSPORT - GTA V
        var $undergroundone = parseInt($("#underground-one").css("stroke-dashoffset"), 10);
        var $undergroundtwo = parseInt($("#underground-two").css("stroke-dashoffset"), 10);
        var $undergroundthree = parseInt($("#underground-three").css("stroke-dashoffset"), 10);
        var $abovegroundone = parseInt($("#aboveground-one").css("stroke-dashoffset"), 10);
        var $abovegroundtwo = parseInt($("#aboveground-two").css("stroke-dashoffset"), 10);

        //on a scroll event - execute function
        $(window).on('scroll', function () {    

          var a = $(window).scrollTop();
          var b = $("html").height();  
          //$(window).height() returns the document for some reason
          //so using vanilla JS instead
          var c = window.innerHeight;

          //calculate how far down the page the user is 
          var $percentComp = ( ( a / ( b - c ) ) * 100 );    
          
          //set the new value of the dashoffset (based on current %) to create the drawing effect
          //LOS SANTOS TRANSPORT - GTA V
          $("#underground-one").css("stroke-dashoffset", $undergroundone-($percentComp*($undergroundone/100)));
          $("#underground-two").css("stroke-dashoffset", $undergroundtwo-($percentComp*($undergroundtwo/100)));
          $("#underground-three").css("stroke-dashoffset", $undergroundthree-($percentComp*($undergroundthree/100)));
          $("#aboveground-one").css("stroke-dashoffset", $abovegroundone-($percentComp*($abovegroundone/100)));
          $("#aboveground-two").css("stroke-dashoffset", $abovegroundtwo-($percentComp*($abovegroundtwo/100)));

          //display the $percentComp variable as a width percentage
          $(".progress").css("width", $percentComp + "%");

          //display the percentage complete in the overlay as a rounded number
          $(".percentage-indicator").text(Math.round($percentComp) + "%");

        });
        
      });
      
    </script>
  </body>
</html>