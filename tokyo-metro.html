<!DOCTYPE html>
<html>
  <head>
    <title>Tube Scroll - Tokyo Metro</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/main.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="js/app.js"></script>
  </head>
  <body>
    
    <div class="progress"></div>
    
    <div class="metro-title">TOKYO METRO</div>
    
    <div class="percentage-indicator">0%</div>
    
    <div class="key">KEY</div>
    
    <div class="key-overlay">
      
      <div class="close-key">X</div>
      
      <p>CLICK OR TAP TO HIDE</p>
      
      <button id="mita-btn">Mita</button>  
      <button id="fukutoshin-btn">Fukutoshin</button> 
      <button id="tozai-btn">Tozai</button>
      <button id="yurakucho-btn">Yurakucho</button>
      <button id="chiyoda-btn">Chiyoda</button>  
      <button id="asakusa-btn">Asakusa</button> 
      <button id="shinjuku-btn">Shinjuku</button>
      <button id="namboku-btn">Namboku</button>
      <button id="hibiya-btn">Hibiya</button>
      <button id="ginza-btn">Ginza</button> 
      <button id="oedo-btn">Oedo</button>
      <button id="hanzomon-btn">Hanzomon</button>
      <button id="marunouchi-btn">Marunouchi</button>
      
    </div>
    
    <div class="info">INFO</div>
    
    <div class="info-overlay">
      
      <div class="close-info">X</div>
      
      <p class="info-title-text">TOKYO METRO</p>
      <p>13 Lines (inc Toei Lines)</p>
      <p>179 Stations</p>
      <p>Established in 1927</p>
      <p>System length - 121.2mi (195.1km)</p>
      
      <p>
        <a href="http://en.m.wikipedia.org/wiki/Tokyo_Metro" target="_blank">Tokyo Metro Wikipedia Page</a>
      </p>
        
    </div>
    
    <a class="back" href="index.html">BACK</a>
    
    <svg width="2000px" height="1350px" viewBox="0 0 2000 1350" version="1.1">
      <g stroke="none" stroke-width="10" fill="none" fill-rule="evenodd" stroke-linecap="round"> 
        <path d="M298.081045,169.053855 L508.661587,169.053855 C510.317782,169.053855 512.610341,169.997372 513.793849,171.172868 L619.410284,276.074348 C620.588559,277.244647 622.886853,278.193362 624.540241,278.193362 L796.559171,278.193362 C798.214093,278.193362 800.50694,279.152029 801.667043,280.321156 L1005.64212,485.882896 C1006.8082,487.058044 1007.75349,489.348097 1007.7535,491.006478 L1007.75352,620.142703 C1007.75352,621.797231 1008.70411,624.090676 1009.87191,625.260421 L1066.15332,681.635885 C1067.32327,682.807795 1068.27171,685.09587 1068.2717,686.757086 L1068.27168,771.68147 C1068.27168,773.337921 1069.17624,775.679312 1070.2844,776.902626 L1150.63136,865.599406 C1151.74296,866.826519 1152.64408,869.161986 1152.64408,870.828517 L1152.64408,958.382852 C1152.64408,960.043697 1151.69285,962.339836 1150.52716,963.503726 L1022.54354,1091.28925 C1021.37439,1092.45658 1019.07513,1093.4029 1017.42674,1093.4029 L869.799473,1093.4029 C868.142688,1093.4029 865.816918,1092.48198 864.611015,1091.35186 L807.999993,1038.29884 C806.791271,1037.16608 804.470161,1036.24781 802.803603,1036.24781 L547.930092,1036.24781" id="mita" stroke="#4A59EB"></path>
        <path d="M263.634315,262.749356 L473.922825,262.749356 C475.576723,262.749356 477.891422,263.676295 479.095784,264.822523 L628.832499,407.331645 C630.035547,408.476624 631.01081,410.750365 631.01081,412.400008 L631.01081,597.093973 C631.01081,598.748174 631.958614,601.038933 633.12573,602.208461 L663.327379,632.472562 C664.495417,633.643015 665.442298,635.939746 665.442298,637.583486 L665.442298,687.243626 C665.442298,688.895858 664.487886,691.172946 663.300645,692.339384 L609.81967,744.883265 C608.636867,746.045343 607.678016,748.329122 607.678016,749.983614 L607.678016,859.894309 C607.678016,861.549076 606.722776,863.835563 605.549362,864.996438 L574.257972,895.953457" id="fukutoshin" stroke="#C74500"></path>
        <path d="M366.780937,503.816529 L827.628693,503.816529 C829.281363,503.816529 831.566604,504.757527 832.747938,505.933252 L1057.17907,729.298759 C1058.35368,730.467793 1060.64147,731.415482 1062.30952,731.415482 L1521.87915,731.415477 C1523.53801,731.415477 1525.82818,730.471432 1526.99867,729.302632 L1736.93232,519.671732" id="tozai" stroke="#00B3FA"></path>
        <path d="M263.631768,272.689903 L470.914645,272.689903 C471.466132,272.689903 472.231929,272.994495 472.633491,273.378248 L643.958283,437.104778 C645.157406,438.250719 647.47226,439.179688 649.130512,439.179688 L806.952649,439.179688 C808.610069,439.179688 810.905355,440.117324 812.091021,441.285493 L917.900068,545.53308 C919.080492,546.696084 919.071326,548.585762 917.894472,549.739214 L817.863097,647.781385 C816.679582,648.941365 816.669116,650.822479 817.8499,651.993063 L1006.90717,839.417238 C1008.0834,840.583304 1010.37439,841.528587 1012.03749,841.528587 L1661.77117,841.528587" id="yurakucho" stroke="#ECB800"></path>
        <path d="M423.916514,831.006168 L605.487604,831.523663 C607.140393,831.528373 609.467125,832.444492 610.682092,833.567639 L687.809261,904.86603 C689.025308,905.990177 691.349636,906.901477 693.006804,906.901477 L1168.39049,906.901449 C1170.04496,906.901449 1171.38618,905.560598 1171.38618,903.904507 L1171.38618,874.023818 C1171.38618,872.368653 1170.48598,870.027487 1169.38263,868.802579 L1088.09346,778.556899 C1086.98693,777.328453 1086.08991,774.982268 1086.08991,773.341411 L1086.08991,269.978799 C1086.08991,268.32681 1087.05698,266.041539 1088.24117,264.883047 L1141.03527,213.235002 C1142.22338,212.072685 1144.53173,211.130442 1146.19232,211.130442 L1538.55795,211.130442 C1540.21799,211.130442 1542.51624,210.175842 1543.68197,209.007545 L1575.83958,176.779257" id="chiyoda" stroke="#529900"></path>
        <path d="M1474.20999,306.670097 L1347.91051,432.552117 C1346.73864,433.720107 1345.78866,436.015661 1345.78866,437.670295 L1345.78866,932.307194 C1345.78866,933.965896 1344.82735,936.24869 1343.64161,937.405858 L1291.17857,988.604929 C1289.99278,989.762142 1287.69127,990.700248 1286.03084,990.700248 L1187.53733,990.700248 C1185.8801,990.700248 1183.57062,991.63047 1182.36952,992.78706 L1063.35044,1107.39505 C1062.15357,1108.54757 1059.835,1109.48186 1058.17523,1109.48186 L324.199365,1109.48184" id="asakusa" stroke="#EA6E68"></path>
        <path d="M542.985682,713.670204 L621.902209,713.670204 C623.559281,713.670204 625.861018,712.724615 627.036851,711.564519 L716.518492,623.280465 C717.697205,622.117528 719.997016,621.174781 721.654649,621.174781 L831.773971,621.174781 C833.431879,621.174781 835.733708,622.118157 836.909146,623.275857 L883.419834,669.084692 C884.598004,670.245084 886.889129,671.185767 888.552254,671.185767 L954.211784,671.185767 C955.868171,671.185767 957.210938,669.841357 957.210938,668.180196 L957.210938,591.798058 C957.210938,590.138127 958.556613,588.792487 960.208294,588.792487 L1478.5458,588.792487 C1480.20119,588.792487 1482.49775,587.851094 1483.68051,586.684692 L1701.66538,371.7145 C1702.84581,370.550396 1703.80273,368.270432 1703.80273,366.612202 L1703.80273,326.535285" id="shinjuku" stroke="#7DB435"></path>
        <path d="M766.811569,199.300576 L879.822194,200.17054 C881.478481,200.183291 883.73991,201.162787 884.882781,202.368374 L936.365021,256.675741 C937.503619,257.87682 938.426636,260.196793 938.426636,261.85004 L938.426636,543.461242 C938.426636,545.117849 937.460454,547.407147 936.289678,548.553896 L803.641596,678.479722 C802.461387,679.63571 802.460415,681.525107 803.634804,682.695204 L949.0465,827.575474 C950.222958,828.747632 951.176666,831.033885 951.176666,832.695644 L951.176666,921.210623 C951.176666,922.866257 950.231257,925.153279 949.056912,926.32695 L852.915723,1022.41295 C851.745015,1023.58298 849.445045,1024.53149 847.797026,1024.53149 L547.791405,1024.53147" id="namboku" stroke="#1AAD9B"></path>
        <path d="M485.472608,967.649533 L1004.25175,967.649533 C1005.90803,967.649533 1008.20587,966.69974 1009.38431,965.52791 L1088.88225,886.476113 C1090.06061,885.304373 1092.36383,884.354489 1094.00773,884.354489 L1383.0471,884.354489 C1384.69947,884.354489 1386.99266,883.398354 1388.15788,882.230125 L1401.2003,869.154024 C1402.37053,867.980771 1403.3192,865.695469 1403.3192,864.020455 L1403.3192,677.228991 C1403.3192,675.567052 1402.38872,673.23909 1401.25279,672.041858 L1377.89316,647.421485 C1376.75192,646.218649 1374.4919,645.243558 1372.83321,645.243558 L1266.9018,645.243558 C1265.2485,645.243558 1262.93916,644.315717 1261.7414,643.168935 L1228.77138,611.602147 C1227.57466,610.456364 1226.60453,608.184761 1226.60453,606.534855 L1226.60453,315.025945 C1226.60453,313.37314 1227.55945,311.093387 1228.74744,309.924076 L1306.95015,232.951544 C1308.13365,231.786665 1310.44068,230.842343 1312.08615,230.842343 L1398.28532,230.842343" id="hibiya" stroke="#C7C7C7"></path>
        <path d="M591.977081,906.926891 L683.945201,906.926891 C685.601518,906.926891 687.889364,905.971214 689.055943,904.791623 L798.094278,794.537134 C799.260546,793.357858 801.558814,792.401866 803.215385,792.401866 L877.068916,792.401866 C878.730957,792.401866 881.037716,793.348933 882.211299,794.50742 L933.220707,844.860674 C934.398725,846.023539 935.353698,848.311326 935.353698,849.974329 L935.353698,916.102444 C935.353698,917.763773 936.33018,920.04095 937.521291,921.175858 L996.156778,977.044561 C997.353906,978.185202 999.669005,979.109874 1001.31853,979.109874 L1266.06415,979.109874 C1267.71779,979.109874 1269.99707,978.144897 1271.14597,976.963899 L1300.75161,946.531239 C1301.90459,945.34605 1302.83926,943.036134 1302.83926,941.376158 L1302.83926,722.500633 C1302.83926,720.83875 1301.85252,718.583646 1300.62756,717.456574 L1202.01533,626.72518 C1200.79383,625.601306 1199.80362,623.354644 1199.80362,621.684423 L1199.80362,373.804723 C1199.80362,372.144663 1201.15626,370.798919 1202.79534,370.798919 L1391.49295,370.798919" id="ginza" stroke="#F29B26"></path>
        <path d="M492.93495,676.355239 L509.736549,676.355239 C511.398246,676.355239 513.70151,675.41695 514.883602,674.256989 L631.586782,559.738802 C632.767724,558.57997 635.066389,557.640552 636.728516,557.640552 L861.588622,557.640552 C863.247381,557.640552 865.547479,556.699528 866.734694,555.530188 L982.228424,441.77533 C983.411762,440.609808 985.708546,439.664966 987.374151,439.664966 L1383.15836,439.664966 C1384.81693,439.664966 1387.11619,440.617303 1388.28467,441.782857 L1470.36493,523.65796 C1471.53754,524.827639 1472.48813,527.11838 1472.48813,528.773873 L1472.48813,893.541608 C1472.48813,895.19737 1471.53607,897.473947 1470.3408,898.646938 L1337.04891,1029.4546 C1335.86297,1030.61843 1333.55495,1031.56191 1331.90416,1031.56191 L875.643386,1031.56191 C873.987956,1031.56191 871.667073,1030.64029 870.460537,1029.50435 L807.422916,970.155207 C806.215938,969.018852 805.237489,966.754621 805.237489,965.093245 L805.237517,824.849123 C805.237517,823.189834 804.302579,820.890504 803.143876,819.707917 L754.751246,770.31778 C753.594959,769.137659 751.311495,768.180982 749.651148,768.180982 L563.030381,768.180987 C561.369961,768.180987 560.023925,766.838865 560.023925,765.18437 L560.023925,692.903649 C560.023925,691.248663 558.687601,689.907031 557.026099,689.907031 L449.302467,689.907031 C447.646814,689.907031 446.304641,688.559252 446.304641,686.908324 L446.304641,509.127509 C446.304641,507.471369 445.341878,505.187553 444.15283,504.025075 L254.69992,318.80556" id="oedo" stroke="#D8176F"></path>
        <path d="M592.37047,894.148438 L673.18111,894.148438 C674.842303,894.148438 677.141186,893.196555 678.31651,892.021648 L788.172157,782.204915 C789.347166,781.030321 791.639019,780.078125 793.293248,780.078125 L908.408111,780.078125 C910.061402,780.078125 912.347934,779.133293 913.525051,777.957969 L966.549996,725.013833 C967.722713,723.842903 968.673388,721.558429 968.673388,719.893147 L968.673388,603.278026 C968.673388,601.620879 970.012811,600.277496 971.667859,600.277496 L1022.11629,600.277496 C1023.7701,600.277496 1025.11077,601.617237 1025.11077,603.273781 L1025.11077,619.498222 C1025.11077,621.153024 1026.04777,623.446476 1027.22086,624.638309 L1117.67267,716.53494 C1118.83804,717.718929 1121.12643,718.678741 1122.78101,718.678741 L1165.59683,718.678741 C1167.25272,718.678741 1169.59396,717.778846 1170.81949,716.674747 L1200.67566,689.777066 C1201.90417,688.67029 1204.24659,687.773071 1205.90799,687.773071 L1455.86158,687.773071 C1457.5228,687.773071 1459.83707,686.844651 1461.03581,685.694426 L1532.14227,617.465608 C1533.33869,616.317604 1534.30858,614.037809 1534.30858,612.377041 L1534.30858,388.660664 C1534.30858,386.99833 1533.34253,384.727895 1532.1438,383.582775 L1478.65044,332.481811" id="hanzomon" stroke="#902286"></path>
        <path d="M281.206776,510.930206 L422.895096,651.910156 L245.81777,651.910156 L624.194821,651.910156 C625.851947,651.910156 628.13021,652.866472 629.289738,654.052564 L667.046199,692.673999 C668.202919,693.857218 670.490976,694.816406 672.131181,694.816406 L796.143559,694.816406 C797.795197,694.816406 800.086768,695.760716 801.258777,696.92246 L1024.50188,918.210352 C1025.6753,919.373494 1027.97449,920.316406 1029.63074,920.316406 L1234.70658,920.316406 C1236.36575,920.316406 1238.62062,919.341352 1239.7603,918.119998 L1258.87097,897.639737 C1260.00289,896.426694 1260.92049,894.099495 1260.92049,892.449667 L1260.92049,835.49116 C1260.92049,833.837806 1259.99083,831.537687 1258.82636,830.335441 L1186.21132,755.365182 C1185.05476,754.171111 1182.76665,753.203125 1181.1142,753.203125 L1127.79567,753.203125 C1126.13717,753.203125 1124.79268,751.869714 1124.79268,750.209289 L1124.79268,538.554551 C1124.79268,536.901101 1123.87397,534.583236 1122.74033,533.377089 L1061.85509,468.597688 C1060.72161,467.391705 1058.4583,466.414062 1056.79592,466.414062 L937.409421,466.414062 C935.748805,466.414062 933.455198,465.454148 932.2937,464.277321 L866.681174,397.798851 C865.516456,396.618761 863.220784,395.66608 861.57995,395.670901 L648.527344,396.296875" id="marunouchi" stroke="#E30B20"></path>
      </g>
    </svg>
      
    
    <script>
      
      $(document).ready(function () {
      
        //TOKYO METRO
        var $mita = parseInt($("#mita").css("stroke-dashoffset"), 10);
        var $fukutoshin = parseInt($("#fukutoshin").css("stroke-dashoffset"), 10);
        var $tozai = parseInt($("#tozai").css("stroke-dashoffset"), 10);
        var $yurakucho = parseInt($("#yurakucho").css("stroke-dashoffset"), 10);
        var $chiyoda = parseInt($("#chiyoda").css("stroke-dashoffset"), 10);
        var $asakusa = parseInt($("#asakusa").css("stroke-dashoffset"), 10);
        var $shinjuku = parseInt($("#shinjuku").css("stroke-dashoffset"), 10);
        var $namboku = parseInt($("#namboku").css("stroke-dashoffset"), 10);
        var $hibiya = parseInt($("#hibiya").css("stroke-dashoffset"), 10);
        var $ginza = parseInt($("#ginza").css("stroke-dashoffset"), 10);
        var $oedo = parseInt($("#oedo").css("stroke-dashoffset"), 10);
        var $hanzomon = parseInt($("#hanzomon").css("stroke-dashoffset"), 10);
        var $marunouchi = parseInt($("#marunouchi").css("stroke-dashoffset"), 10);
        
        //on a scroll event - execute function
        $(window).on('scroll', function () {    

          var a = $(window).scrollTop();
          var b = $("html").height();  
          //$(window).height() returns the document for some reason
          //so using vanilla JS instead
          var c = window.innerHeight;

          //calculate how far down the page the user is 
          var $percentComp = ( ( a / ( b - c ) ) * 100 );    

          //set the new value of the dashoffset (based on current %) to create the drawing effect
          //TOKYO METRO
          $("#mita").css("stroke-dashoffset", $mita-($percentComp*($mita/100)));
          $("#fukutoshin").css("stroke-dashoffset", $fukutoshin-($percentComp*($fukutoshin/100)));
          $("#tozai").css("stroke-dashoffset", $tozai-($percentComp*($tozai/100)));
          $("#yurakucho").css("stroke-dashoffset", $yurakucho-($percentComp*($yurakucho/100)));
          $("#chiyoda").css("stroke-dashoffset", $chiyoda-($percentComp*($chiyoda/100)));
          $("#asakusa").css("stroke-dashoffset", $asakusa-($percentComp*($asakusa/100)));
          $("#shinjuku").css("stroke-dashoffset", $shinjuku-($percentComp*($shinjuku/100)));
          $("#namboku").css("stroke-dashoffset", $namboku-($percentComp*($namboku/ 100)));
          $("#hibiya").css("stroke-dashoffset", $hibiya-($percentComp*($hibiya/100)));
          $("#ginza").css("stroke-dashoffset", $ginza-($percentComp*($ginza/100)));
          $("#oedo").css("stroke-dashoffset", $oedo-($percentComp*($oedo/100)));
          $("#hanzomon").css("stroke-dashoffset", $hanzomon-($percentComp*($hanzomon/100)));
          $("#marunouchi").css("stroke-dashoffset", $marunouchi-($percentComp*($marunouchi/100)));     
          
          //display the $percentComp variable as a width percentage
          $(".progress").css("width", $percentComp + "%");

          //display the percentage complete in the overlay as a rounded number
          $(".percentage-indicator").text(Math.round($percentComp) + "%");

        });
        
      });
      
    </script>
  </body>
</html>